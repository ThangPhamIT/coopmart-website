(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,a){e.exports=a.p+"static/media/favicon.0a06c2d8.ico"},164:function(e,t,a){e.exports=a.p+"static/media/logo.136311d2.png"},194:function(e,t,a){e.exports=a(361)},222:function(e,t,a){},323:function(e,t,a){},347:function(e,t,a){},349:function(e,t,a){},351:function(e,t,a){},359:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(53),c=a.n(o),s=a(375),i=a(378),l=a(22),u="USER_LOGGED_IN",m="USER_LOGGED_OUT",p="USER_SUBMIT_RESULT",d=a(155),g=a.n(d),h={login:function(e){return g.a.post("https://coopmart-api.herokuapp.com/api/authenticate",{credentials:e}).then(function(e){return e.data.user})},signup:function(e){return g.a.post("https://coopmart-api.herokuapp.com/api/users",{user:e}).then(function(e){return e.data.user})},sendResult:function(e){return g.a.post("https://coopmart-api.herokuapp.com/api/users/submitTest",{test:e}).then(function(e){return e.data.user})}},f=function(e){return{type:u,user:e}},b=function(){return function(e){console.log("logout"),localStorage.removeItem("bookwormJWT"),localStorage.removeItem("bookwormUser"),localStorage.removeItem("bookwormTest"),localStorage.removeItem("department"),e({type:m})}},E=a(377),v=a(369),N=a(19),O=a(20),w=a(23),S=a(21),j=a(24),T=a(372),y=a(164),C=a.n(y),k=(a(222),function(e){function t(){return Object(N.a)(this,t),Object(w.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement(T.a,{className:"navbar nav-background"},r.a.createElement("div",{className:"navbar-brand justify-content"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("img",{src:C.a,alt:"Co.opmart",width:"80",height:"75"}),r.a.createElement("div",{className:"header-title"},r.a.createElement("label",{className:"header-co-op"},"co.op"),r.a.createElement("label",{className:"header-mart"},"mart")))))}}]),t}(r.a.Component)),I=a(362),A=a(374),H=a(61),U=a.n(H),G=(a(323),"H\u1ecc V\xc0 T\xcaN KH\xd4NG \u0110\u01af\u1ee2C \u0110\u1ec2 TR\u1ed0NG"),L="B\u1ed8 PH\u1eacN B\u1ea0N L\xc0M VI\u1ec6C KH\xd4NG \u0110\u01af\u1ee2C \u0110\u1ec2 TR\u1ed0NG",B="H\u1ebeT GI\u1edc L\xc0M B\xc0I";var _=Object(l.b)(function(e){return{isAuthenticated:!!e.user.token}},{logout:b})(function(e){var t=e.isAuthenticated,a=e.logout;return r.a.createElement("div",{className:"homepage"},r.a.createElement(k,null),t?r.a.createElement("center",null,r.a.createElement(T.a,{className:"homepage-card-login"},r.a.createElement(T.a.Content,null,r.a.createElement(I.a,{size:"mini",src:U.a,className:"homepage-img-content-coop"}),r.a.createElement("div",{className:"homepage-welcome"},"VUI L\xd2NG TH\u1eec L\u1ea0I"),r.a.createElement(A.a,{primary:!0,onClick:function(){return a()}},"THO\xc1T")))):r.a.createElement("center",null,r.a.createElement(T.a,{className:"homepage-card-login"},r.a.createElement(T.a.Content,null,r.a.createElement(I.a,{size:"mini",src:U.a,className:"homepage-img-content-coop"})),r.a.createElement("div",{className:"homepage-welcome"},"COOPMART MINI TEST ONLINE"),r.a.createElement(v.a,{to:"/signup",className:"homepage-welcome-sign-up"},"\u0110\u0102NG K\xdd"),"or",r.a.createElement(v.a,{to:"/login",className:"homepage-welcome-login"},"\u0110\u0102NG NH\u1eacP"))))}),x=a(39),W=a(31),D=a(370),M=a(373),R=a(371),q=function(e){var t=e.text;return r.a.createElement("span",{style:{color:"#ae5856"}},t)},P=a(158),V=a.n(P),F=[{text:"IT",value:"IT",image:{avatar:!0,src:V.a}},{text:"SALES",value:"SALES",image:{avatar:!0,src:V.a}}],J=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={data:{username:"",department:""},loading:!1,errors:{}},a.onChange=function(e){return a.setState({data:Object(W.a)({},a.state.data,Object(x.a)({},e.target.name,e.target.value))})},a.onSelectDepartment=function(e,t){var n=t.value;return a.setState(function(e){return{data:Object(W.a)({},e.data,{department:n})}})},a.onSubmit=function(){var e=a.validate(a.state.data);a.setState({errors:e}),0===Object.keys(e).length&&(a.setState({loading:!0}),console.log("login",a.state.data),a.props.submit(a.state.data).catch(function(e){return a.setState({errors:e.response.data.errors,loading:!1})}))},a.validate=function(e){var t={};return e.username||(t.username=G),e.department||(t.department=L),t},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.errors,n=e.loading;return r.a.createElement("center",null,r.a.createElement(T.a,{className:"homepage-card-login"},r.a.createElement(T.a.Content,null,r.a.createElement(D.a,{onSubmit:this.onSubmit,loading:n},a.global&&r.a.createElement(M.a,{negative:!0},r.a.createElement(M.a.Header,null,"\u0110\u0102NG NH\u1eacP KH\xd4NG TH\xc0NH C\xd4NG"),r.a.createElement("p",null,a.global)),r.a.createElement(D.a.Field,{error:!!a.username},r.a.createElement("label",{htmlFor:"username",className:"login-title-name"},"VUI L\xd2NG \u0110I\u1ec0N H\u1ecc V\xc0 T\xcaN"),r.a.createElement("input",{type:"text",id:"username",name:"username",placeholder:"NGUY\u1ec4N V\u0102N A",value:t.username,onChange:this.onChange}),a.username&&r.a.createElement(q,{text:a.username})),r.a.createElement(D.a.Field,{error:a&&!!a.department},r.a.createElement(R.a,{placeholder:"VUI L\xd2NG L\u1ef0A CH\u1eccN B\u1ed8 PH\u1eacN B\u1ea0N L\xc0M VI\u1ec6C",fluid:!0,selection:!0,name:"department",options:F,onChange:this.onSelectDepartment}),a&&a.department&&r.a.createElement(q,{text:a.department})),r.a.createElement(A.a,{primary:!0,className:"login-button"},"\u0110\u0102NG NH\u1eacP")))))}}]),t}(r.a.Component),K=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).submit=function(e){return a.props.login(e).then(function(){return a.props.history.push("/dashboard")})},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,null),">",r.a.createElement(J,{submit:this.submit}))}}]),t}(r.a.Component),Q=Object(l.b)(null,{login:function(e){return function(t){return h.login(e).then(function(e){console.log("result login: ",e),localStorage.bookwormJWT=e.token,localStorage.bookwormUser=e.username,localStorage.bookwormTest=e.submitTest,localStorage.department=e.department,t(f(e))})}}})(K),z=Object.freeze({IT_QUESTIONS:[{question:"1 + 2 = ",answers:["A. 3","B. 40","C. 2","D. 4"]},{question:"https://bulma.io/documentation/elements/table/ ",answers:["A. Website","B. Page","C. link","D. 4"]},{question:"1 + 2 = ",answers:["A. 3","B. 40","C. 2","D. 4"]},{question:"1 + 2 = ",answers:["A. 3","B. 40","C. 2","D. 4"]},{question:"Notpade++ is a software ",answers:["A. True","B. False"]}],SALE_QUESTIONS:[{question:"https://bulma.io/documentation/elements/table/ ",answers:["A. Website","B. Page","C. link","D. 4"]},{question:"1 + 2 = ",answers:["A. 3","B. 40","C. 2","D. 4"]},{question:"How many categories for spoon? ",answers:["A. 122","B. 677","C. 500","D: 100"]}]}),Y=(a(347),a(349),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).nf=function(e){return e>9?""+e:"0"+e},a.convertSecond=function(e){var t=Math.floor(e/60),n=e%60;return a.nf(t)+":"+a.nf(n)},a.notifyEndingTime=function(e){a.props.notifyEndingTime(e)},a.endingTime=function(){a.props.endingTime()},a.state={time:"",counter:0},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.state.counter,a=setInterval(function(){e.setState({counter:t++});var n=e.convertSecond(180-t);e.setState({time:n}),180-t===120&&e.notifyEndingTime(!1),180-t===10&&e.notifyEndingTime(!0),180===t&&(e.endingTime(),clearInterval(a),t=0)},1e3)}},{key:"render",value:function(){var e=this.state.time;return r.a.createElement("span",{className:"time"},e)}}]),t}(r.a.Component)),X=[],$=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={data:{answer_1:"",answer_2:"",answer_3:"",answer_4:"",answer_5:"",answer_6:"",answer_7:""},loading:!1,errors:{},department:a.props},a.onChange=function(e){return a.setState(Object(W.a)({},a.state,{data:Object(W.a)({},a.state.data,Object(x.a)({},e.target.name,e.target.value))}))},a.onClick=function(){a.setState({loading:!0});var e=[];X.map(function(t,n){var r={question:t.question,answer:a.state.data["answer_"+(n+1)]};return e.push(r),e});var t={username:a.props.username,department:a.props.department,testing:e};console.log("information test: ",t),a.props.submit(t)},a.notifyEndingTime=function(e){var t=document.getElementById("endingTimeMessage");null!==t&&void 0!==t&&(e&&(t.innerHTML=B),t.className="show",setTimeout(function(){t.className=t.className.replace("show","")},5e3))},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){switch(console.log("department will: ",this.props.department),this.props.department){case"IT":return X=z.IT_QUESTIONS;case"SALES":return X=z.SALE_QUESTIONS;default:return X=z.IT_QUESTIONS}}},{key:"render",value:function(){var e=this,t=this.props.username,a=this.state.loading,n=X.map(function(t,a){var n=t.answers.map(function(t,n){return r.a.createElement(T.a.Description,{key:n+1},r.a.createElement("input",{type:"radio",value:t,name:"answer_"+(a+1),onChange:e.onChange}),r.a.createElement("label",{htmlFor:n+1}," ",t))});return r.a.createElement(T.a,{key:a,id:a},r.a.createElement(T.a.Content,{className:"question"},"C\xc2U H\u1eceI"," ",a+1,":\xa0 \xa0 ",t.question," "),r.a.createElement("div",{className:"answer-question"},n))});return r.a.createElement("div",{className:"question-content"},r.a.createElement("div",{className:"hello-user-test"},r.a.createElement("span",{className:"hello-user"},r.a.createElement("i",{className:"fa fa-user-circle","aria-hidden":"true"})," ",t," \xa0 \xa0 \xa0"),r.a.createElement("span",null,r.a.createElement(Y,{endingTime:this.onClick,notifyEndingTime:this.notifyEndingTime}))),r.a.createElement("div",{id:"endingTimeMessage"},"TH\u1edcI GIAN L\xc0M B\xc0I C\xd2N 2 PH\xdaT"),r.a.createElement(T.a,null,r.a.createElement(T.a.Content,null,r.a.createElement(D.a,{loading:a},n,r.a.createElement("center",null,r.a.createElement(A.a,{primary:!0,onClick:this.onClick},"N\u1ed8P B\xc0I"))))))}}]),t}(r.a.Component);var Z=Object(l.b)(function(e){return{username:e.user.username,department:e.user.department}},{})($),ee=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).submit=function(e){return a.props.sendResult(e)},a.logout=function(){return a.props.logout()},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.props.submitTest;return r.a.createElement("div",null,r.a.createElement(k,null),t?r.a.createElement("center",null,r.a.createElement(T.a,{className:"homepage-card-login"},r.a.createElement(T.a.Content,null,r.a.createElement(I.a,{size:"mini",src:U.a,className:"homepage-img-content-coop"}),r.a.createElement("div",{className:"dashboard-congratulations"},"XIN CH\xdaC M\u1eeaNG"),r.a.createElement("div",{className:"dashboard-done-test-exam"},"B\u1ea0N \u0110\xc3 HO\xc0N TH\xc0NH B\xc0I TEST"),r.a.createElement(A.a,{primary:!0,onClick:function(){return e.logout()}},"THO\xc1T")))):r.a.createElement(Z,{submit:this.submit}))}}]),t}(r.a.Component);var te=Object(l.b)(function(e){return{submitTest:e.user.submitTest}},{sendResult:function(e){return function(t){console.log("send Result ",e),h.sendResult(e).then(function(e){console.log("response result ",e),localStorage.bookwormTest=e.submitTest,t(function(e){return{type:p,user:e}}(e))})}},logout:b})(ee),ae=(a(351),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={data:{username:"",department:""},loading:!1,errors:{}},a.onChange=function(e){return a.setState(Object(W.a)({},a.state,{data:Object(W.a)({},a.state.data,Object(x.a)({},e.target.name,e.target.value))}))},a.onSelectDepartment=function(e,t){var n=t.value;return a.setState(function(e){return{data:Object(W.a)({},e.data,{department:n})}})},a.onSubmit=function(e){e.preventDefault();var t=a.validate(a.state.data);a.setState({errors:t}),0===Object.keys(t).length&&(console.log("sign up: ",a.state.data),a.setState({loading:!0}),a.props.submit(a.state.data).catch(function(e){return a.setState({errors:e.response.data.errors,loading:!1})}))},a.validate=function(e){var t={};return e.username||(t.username=G),e.department||(t.department=L),t},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.errors,n=e.loading;return r.a.createElement("center",null,r.a.createElement(T.a,{className:"homepage-card-login"},r.a.createElement(T.a.Content,null,r.a.createElement(D.a,{onSubmit:this.onSubmit,loading:n},r.a.createElement(D.a.Field,{error:a&&!!a.username},r.a.createElement("label",{htmlFor:"username",className:"sign-up-title-name"},"VUI L\xd2NG \u0110I\u1ec0N H\u1ecc V\xc0 T\xcaN"),r.a.createElement("input",{type:"text",id:"username",name:"username",placeholder:"NGUY\u1ec4N V\u0102N A",value:t.username,onChange:this.onChange}),a&&a.username&&r.a.createElement(q,{text:a.username})),r.a.createElement(D.a.Field,{error:a&&!!a.department},r.a.createElement(R.a,{placeholder:"VUI L\xd2NG L\u1ef0A CH\u1eccN B\u1ed8 PH\u1eacN B\u1ea0N L\xc0M VI\u1ec6C",fluid:!0,selection:!0,name:"department",options:F,onChange:this.onSelectDepartment}),a&&a.department&&r.a.createElement(q,{text:a.department})),r.a.createElement(A.a,{primary:!0,className:"sign-up-button"},"\u0110\u0102NG K\xdd")))))}}]),t}(r.a.Component)),ne=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).submit=function(e){return a.props.signup(e).then(function(){return a.props.history.push("/dashboard")})},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(ae,{submit:this.submit}))}}]),t}(r.a.Component),re=Object(l.b)(null,{signup:function(e){return function(t){return h.signup(e).then(function(e){console.log("action signup",e),localStorage.bookwormJWT=e.token,localStorage.bookwormUser=e.username,localStorage.department=e.department,t(f(e))})}}})(ne),oe=a(83),ce=a(376);var se=Object(l.b)(function(e){return{isAuthenticated:!!e.user.username}})(function(e){var t=e.isAuthenticated,a=e.component,n=Object(oe.a)(e,["isAuthenticated","component"]);return r.a.createElement(i.a,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(ce.a,{to:"/"})}}))});var ie=Object(l.b)(function(e){return{isAuthenticated:!!e.user.username}})(function(e){var t=e.isAuthenticated,a=e.component,n=Object(oe.a)(e,["isAuthenticated","component"]);return r.a.createElement(i.a,Object.assign({},n,{render:function(e){return t?r.a.createElement(ce.a,{to:"/dashboard"}):r.a.createElement(a,e)}}))}),le=function(e){var t=e.location;return r.a.createElement(E.a,null,r.a.createElement(i.a,{location:t,path:"/",exact:!0,component:_}),r.a.createElement(ie,{location:t,path:"/login",exact:!0,component:Q}),r.a.createElement(ie,{location:t,path:"/signup",exact:!0,component:re}),r.a.createElement(se,{location:t,path:"/dashboard",exact:!0,component:te}))},ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var pe=a(38),de={};var ge=Object(pe.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(console.log("reducer",t),t.type){case u:return t.user;case m:return{};case p:return t.user;default:return e}}}),he=a(181),fe=a(182),be=Object(pe.createStore)(ge,Object(he.composeWithDevTools)(Object(pe.applyMiddleware)(fe.a)));a(354),a(357),a(359);if(localStorage.bookwormJWT){var Ee={token:localStorage.bookwormJWT,username:localStorage.bookwormUser,submitTest:localStorage.bookwormTest,department:localStorage.department};be.dispatch(f(Ee))}c.a.render(r.a.createElement(s.a,null,r.a.createElement(l.a,{store:be},r.a.createElement(i.a,{component:le}))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");ue?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):me(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):me(t,e)})}}()},61:function(e,t,a){e.exports=a.p+"static/media/logocoopmartvn.f77b342b.png"}},[[194,2,1]]]);
//# sourceMappingURL=main.ff0c5f35.chunk.js.map